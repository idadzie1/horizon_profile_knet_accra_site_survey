<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Horizon Profile</title>
  
  <script src="https://cdn.plot.ly/plotly-3.1.0.min.js"></script>

  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h2{width: 100%; text-align: center;}
    .container { display: flex; flex-direction: column; gap: 20px; }
    .chart {margin-top: 3rem; height: 500px; }
    .polarchart{ margin: 3rem auto; width: 600px; height: 600px;}
    h6{ color: gray;}

    .raw-data{
      margin-top: 2rem;
    }
    
    table{   
      margin: auto;
      border: 1px solid;
    }

    h5{
      font-size: small; 
      width: 100%; 
      text-align: center;
      margin: 0;   

    }

    th{
      
      border-bottom: 1px solid;
      font-size: small;
      font-weight: 100;
    }

    td{
      width: 2rem;
      text-align: center;
      border-left: 1px solid;
      font-size: small;
      border-bottom: 1px solid;
    }

    tr:last-child th{
      border-bottom: none;
    }

    tr:last-child td{
      border-bottom: none;
    }

   .site-details{
     width: 50%;
     margin: auto;
     display: flex;
     justify-content: space-between;
     align-items: center;
   }

   .address{
    /* border: 1px solid; */
   }

   h4, p{
    padding: 0;
    margin: 0;
   }

   p{
     font-size: small;
   }

   
  </style>
</head>
<body>
  <h2>Horizon Profile: KNET Accra, Ghana</h2>
  <div class="site-details">
    <div class="address">
      <h4>Location address</h4>
      <p>No.12 Roman Ridge Street,<br> Roman Ridge,<br> Accra, Ghana</p>
    </div>
    <div class="gps-location">
      <h4>GPS Location</h4> 
      <p>5°N, .0005°W</p>
    </div>
  </div>

  <div class="raw-data">  
    <h5>Field Dataset</h5> 
    <table>          
      <tr>
        <th>Azimuth°</th>
        <td>0</td>
        <td>30</td>
        <td>37</td>
        <td>60</td>
        <td>90</td>
        <td>120</td>
        <td>150</td>
        <td>180</td>
        <td>185</td>
        <td>210</td>
        <td>240</td>
        <td>270</td>
        <td>300</td>
        <td>330</td>
      </tr>
      <tr>
        <th>Elevation°</th>
        <td>0</td>
        <td>15</td>
        <td>8</td>
        <td>18</td>
        <td>30</td>
        <td>20</td>
        <td>30</td>
        <td>15</td>
        <td>10</td>
        <td>7</td>
        <td>3</td>
        <td>3</td>
        <td>15</td>
        <td>15</td>
      </tr>
      <tr>
        <th>Distance(m)</th>
        <td>3</td>
        <td>5</td>
        <td>10</td>
        <td>9</td>
        <td>25</td>
        <td>30</td>
        <td>52</td>
        <td>15</td>
        <td>10</td>
        <td>11</td>
        <td>100</td>
        <td>45</td>
        <td>47</td>
        <td>10</td>
      </tr>
    </table>
  </div>
  <div class="container">     
    <div id="flatProfile" class="chart"></div>      
    <div id="polarProfile" class="polarchart"></div>
  </div>
  <div class="analysis">
    <h3>Observations and Analysis</h3>
    <div class="lists">
      <ul>
        <li>The northern and eastern sectors (0°-90° azimuth) are largely clear, with maximum obstruction at 3° elevation</li>
        <li>Southern sector (120°-200° azimuth) has significant obstruction from nearby high-rise buildings, rising up to 15°.</li>
        <li>Western sector (270°-320° azimuth) shows moderate obstruction due to vegetation and terrain (8°-10°).</li>
      </ul>
    </div>
  </div>
  <h6>By Isu Mustapha Dadzie <br>
      email: dimustapha@gmail.com <br>
      phone: +233209453410
  </h6> 


  <script>
    // Raw azimuth and elevation data
    var azimuths = [0,30,37,60,90,120,150,180,185,210,240,270,300,330];
    var elevations = [0,15,8,18,30,20,30,15,10,7,3,3,15,15];

    // Flat Horizon Profile
    var flatTrace = {
      x: azimuths,
      y: elevations,
      type: "scatter",
      mode: "lines+markers",
      line: { shape: "spline", color: "deeppink", width: 3 },
      fill: "tozeroy",
      fillcolor: "rgba(255,182,193,0.4)",
      marker: { color: "red", size: 6 },
      name: "Flat Profile"       
    };

    var flatLayout = {      
      title: { text: "Flat Horizon Profile", font: { size: 20 } },
      margin: { t: 60, l: 60, r: 40, b: 40 },
      xaxis: { title: {text: "Azimuth (°)"}, range: [0,360], dtick: 30 },
      yaxis: { title: {text: "Elevation (°)"}, zeroline: false },
      plot_bgcolor: "white",
      dragmode: false
    };

    Plotly.newPlot("flatProfile", [flatTrace], flatLayout, {
      scrollZoom: false,
      doubleClick: false,
      displayModeBar: false
    });

    // Circular Horizon Profile
    var polarTrace = {
      type: "scatterpolar",
      mode: "lines+markers",
      r: elevations,
      theta: azimuths,
      line: { shape: "spline", color: "deeppink", width: 3 },
      fill: "toself",
      fillcolor: "rgba(255,182,193,0.4)",
      marker: { color: "red", size: 6 },
      name: "Circular Profile"
    };

    var polarLayout = {
        dragmode: false,      
        title: { text: "Circular Horizon Profile", font: { size: 20 } },
        margin: { t: 60, l: 60, r: 60, b: 60 },
        polar: {
        radialaxis: { title:{ text: "Elevation (°)"}, automargin: true, angle: 90, range: [0, 40] },
        angularaxis: { direction: "clockwise", rotation: 90, dtick: 30 }
      }
    };

    Plotly.newPlot("polarProfile", [polarTrace], polarLayout, {
      scrollZoom: false,
      doubleClick: false,
      displayModeBar: true
  
    });
  </script>  
</body>
</html>
